
**Шаг 1: Установка Minikube**

1. **Установка Minikube:**
   - Minikube позволяет вам запускать локальный Kubernetes-кластер на вашем компьютере. Это полезный инструмент для разработки и тестирования.
   
2. **Запуск Minikube:**
   - Запустите Minikube с помощью следующей команды:
     ```
     minikube start
     ```
   - Команда запустит локальный Kubernetes-кластер на вашей машине.

**Шаг 2: Развертывание приложения**

1. **Создание манифеста Deployment:**
   - Создайте файл `deployment.yaml` с таким содержимым:
     ```
     apiVersion: apps/v1
     kind: Deployment
     metadata:
       name: my-app
     spec:
       replicas: 3
       selector:
         matchLabels:
           app: my-app
       template:
         metadata:
           labels:
             app: my-app
         spec:
           containers:
           - name: my-app-container
             image: nginx:latest
             ports:
             - containerPort: 80
     ```
   - Этот манифест создает деплоймент с тремя репликами контейнера Nginx.

2. **Применение манифеста:**
   - Примените манифест командой:
     ```
     kubectl apply -f deployment.yaml
     ```
   - Это создаст деплоймент в вашем Kubernetes-кластере.

3. **Проверка статуса:**
   - Проверьте статус развертывания с помощью команды:
     ```
     kubectl get deployments
     ```
   - Убедитесь, что количество реплик соответствует ожидаемому.

**Шаг 3: Создание и применение манифеста Service**

1. **Создание манифеста Service:**
   - Создайте файл `service.yaml` с таким содержимым:
     ```
     apiVersion: v1
     kind: Service
     metadata:
       name: my-app-service
     spec:
       selector:
         app: my-app
       ports:
         - protocol: TCP
           port: 80
           targetPort: 80
       type: NodePort
     ```
   - Этот манифест создает сервис, который будет доступен на порту 80.

2. **Применение манифеста:**
   - Примените манифест командой:
     ```
     kubectl apply -f service.yaml
     ```
   - Это создаст сервис, который будет маршрутизировать трафик к вашим подам.

3. **Получение информации о Service:**
   - Получите информацию о созданном сервисе:
     ```
     kubectl get services
     ```
   - Обратите внимание на значение в столбце `PORT(S)`, чтобы узнать, на каком порту доступен ваш сервис.

**Шаг 4: Доступ к приложению**

1. **Получение внешнего IP:**
   - Для Minikube используйте команду:
     ```
     minikube service my-app-service --url
     ```
   - Эта команда вернет URL, по которому доступно ваше приложение.

2. **Доступ к приложению:**
   - Откройте полученный URL в браузере, чтобы увидеть ваше приложение.

**Шаг 5: Масштабирование приложения**

1. **Масштабирование Deployment:**
   - Для изменения количества реплик используйте команду:
     ```
     kubectl scale deployment my-app --replicas=5
     ```
   - Это увеличит количество реплик до 5.

2. **Проверка изменений:**
   - Проверьте статус Deployment:
     ```
     kubectl get deployments
     ```
   - Убедитесь, что количество реплик обновилось.

**Шаг 6: Обновление приложения**

1. **Обновление образа контейнера:**
   - Для обновления образа контейнера используйте команду:
     ```
     kubectl set image deployment/my-app my-app-container=nginx:latest
     ```
   - Это обновит образ контейнера до последней версии Nginx.

2. **Проверка обновления:**
   - Проверьте статус Deployment:
     ```
     kubectl get deployments
     ```
   - Убедитесь, что обновление прошло успешно.

**Шаг 7: Удаление ресурсов**

1. **Удаление Deployment и Service:**
   - Для удаления используйте команды:
     ```
     kubectl delete deployment my-app
     kubectl delete service my-app-service
     ```
   - Это удалит созданные ресурсы из вашего кластера.

2. **Проверка удаления:**
   - Проверьте, что ресурсы удалены:
     ```
     kubectl get deployments
     kubectl get services
     ```
   - Убедитесь, что списки пусты.

**Шаг 8: Очистка Minikube**

1. **Удаление Minikube:**
   - Для удаления Minikube используйте команду:
     ```
     minikube delete
     ```
   - Это удалит локальный Kubernetes-кластер с вашего компьютера.

2. **Проверка удаления:**
   - После удаления Minikube, проверьте, что кластер больше не существует:
     ```
     kubectl get nodes
     ```
  

